(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615,789],{68452:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return eB},default:function(){return eZ}});var i,r=n(95235),o=n(20406),a=n(28526),s=n.n(a),l=n(2784),d=n(15772),c=n(71346),u=n.n(c),p=n(25237),f=n.n(p),m=n(64839),h=n(72151),g=n(17635),b=n(35505);n(98346);var v=n(64401),y=n(54701);n(20804);var x,w=n(15093),j=n(10923),_=n(13794),O=n(29876),P=n(91324),C=n(65488),E=n(47369),I=n(60437),T=n(96412),S=n(13089),k=n(41701),A=n(90129),R=n(29017),L=n(48200),D=n(17160),N=n.n(D),F=n(48132),V=n(72252),q=n(61144),U=n(96252),M=n(28168),B=n(41876),Z=n(19011),G=n(57615),W=n(76635),H=n(17681),Q=n(23463),z=n(39857),X=n(21306),K=n(86121),Y=n(30408),J=n(54543),$=n(34670),ee=n(3046),et={WAITING:"waiting",LISTENING:"listening",THINKING:"thinking",COMPLETE:"complete",CONNECTING:"connecting"},en=function(e){var t=e.onHandleErrors,n=e.onHandleComplete,i=e.contactToken,r=e.stream,o=e.categories,a=e.questionId,s=e.keywordMatching,d=e.transcriptionLocale,c=e.timeLimit,u=(0,l.useRef)(),p=(0,l.useRef)(),f=(0,ee.s)({socketAddress:(0,j.vd)(),questionId:a,contactToken:i}),m=f.message,h=f.error,g=f.readyState,b=f.sendMessage,v=f.isPreview,y=(0,$.k)(r,g===ee.k.OPEN),x=y.pause,w=y.sampleRate,_=y.samples,O=y.audioState,P=(0,l.useState)(et.WAITING),C=P[0],E=P[1],I=(0,l.useState)(null),T=I[0],S=I[1],k=(0,l.useCallback)(function(){C!==et.COMPLETE&&(clearTimeout(null==p?void 0:p.current),b({action:"streaming:stop"}),x(),E(et.THINKING),clearTimeout(null==u?void 0:u.current),u.current=setTimeout(function(){n({final:{transcript:{transcript:""},predicted:[]}})},5e3))},[b,x,E,n]);return(0,l.useEffect)(function(){var e;h&&(e=h),O===$.Z.NONE&&(e=new J.ee("No audio data received","RECORDING")),g===ee.k.CLOSED&&(e=Error("Socket closed (please refresh)")),e&&t(e)},[t,h,O,g]),(0,l.useEffect)(function(){w&&(p.current=setTimeout(k,c),b({action:"streaming:setup",labels:o,sampleRate:w,keywordMatching:s,languageCode:d}),E(et.LISTENING))},[b,E,k,o,w,d,s]),(0,l.useEffect)(function(){_&&b(_,!0)},[b,_]),(0,l.useEffect)(function(){if(m){var e=m.end,t=m.final,i=m.transcript,r=m.predicted,a=(null==i?void 0:i.transcript)||"";if(""!==a&&S(a),(e||t)&&k(),t){if(E(et.COMPLETE),v){n({final:{transcript:{transcript:""},predicted:[o[Math.floor(Math.random()*o.length)]]}});return}n({final:{transcript:i,predicted:r}})}}},[n,k,E,m,v,o]),(0,l.useEffect)(function(){return function(){clearTimeout(null==u?void 0:u.current),clearTimeout(null==p?void 0:p.current)}}),{stopStreaming:k,captionText:T,status:C}},ei=n(52322),er=function(e){var t,n,i,r=e.onError,o=e.branding,a=e.categories,s=e.onSubmit,d=e.questionId,c=e.onPauseVideo,u=e.customFallback,p=e.keywordMatching,f=e.onStream,m=e.contactToken,h=e.transcriptionLocale,g=e.isLargeViewport,b=e.isSingleAnswerType,v=e.onCancel,y=(0,l.useReducer)(Y.I6,Y.E3),x=y[0],j=y[1],_=(0,z.w)(),O=_.stop,P=_.init,C=_.mediaDevices;(0,l.useEffect)(function(){C.devicesError&&(r({audioDevices:C.audioDevices,error:C.devicesError,displayType:"RECORDING",hideUpload:!0,isAudio:!0,onTrackEvent:function(){}}),j({type:Y.Hp.PERMISSIONS_FAILURE,error:C.devicesError}))},[C.devicesError,r,C.audioDevices]);var I=function(e){r({error:e,displayType:(null==e?void 0:e.type)||"DEFAULT",children:(0,ei.jsx)("p",{children:e.message}),hideStatusLink:!0,onTrackEvent:function(){}}),j({type:Y.Hp.ERROR,error:e})},T=(0,l.useCallback)(function(){if(f)return f("text");c(),j({type:Y.Hp.CTA_BEGIN}),P({video:!1,audio:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1,channelCount:1}})},[c,P,f,r,o]),S=(0,l.useCallback)(function(e){var t;O(),((null==e?void 0:null===(t=e.final)||void 0===t?void 0:t.predicted)||[]).length||u?j({type:Y.Hp.COMPLETE,data:e}):j({type:Y.Hp.COMPLETE})},[s,u,O]),k=function(){x.data&&(s((0,E.OMT)(x.data.final)),j({type:Y.Hp.COMPLETE,data:x.data.final}))};(0,l.useEffect)(function(){C.localStream&&(r(null),j({type:Y.Hp.PERMISSIONS_SUCCESS}))},[C.localStream,r]);var A=function(e){j({type:Y.Hp.RETRY}),v(e,!0)},R=en({onHandleErrors:I,onHandleComplete:S,contactToken:m,stream:C.localStream,categories:a,questionId:d,keywordMatching:p,transcriptionLocale:h,timeLimit:2e4}).stopStreaming,L=function(){j({type:Y.Hp.PROCESS}),R()};return x.step!==Y.S6.COMPLETE||((null===(n=x.data)||void 0===n?void 0:null===(i=n.final)||void 0===i?void 0:i.predicted)||[]).length?(0,ei.jsx)(J.hn,{allowedAnswerMediaTypes:[H.AUDIO],branding:o,disableWebRTCTearDown:!0,hideCancelButton:b,isAIChatbot:!0,isAIProcessing:!(null!=x&&null!==(t=x.data)&&void 0!==t&&t.final)&&x.step===Y.S6.PROCESSING,isLargeViewport:g,isRespondent:!0,onCancel:function(){return A(b?H.VOICE:void 0)},onStartRecording:T,onStop:L,onSubmit:k,timeLimit:2e4}):(0,ei.jsx)(ea,{children:(0,ei.jsxs)(es,{children:[(0,ei.jsx)(w.Eb,{assetId:"form-page.voice-not_understood"}),(0,ei.jsx)(X.Av,{onClick:function(){return A(H.VOICE)},children:(0,ei.jsx)(w.Eb,{assetId:"form-page.voice-try_again"})})]})})},eo=((0,K.I)((0,l.memo)(er)),n(2480)),ea=(x=(0,o.Z)(s().mark(function e(t,n,i){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,F.WY)("".concat((0,eo.kG)(),"/questions/").concat(t,"/predict"),{method:"POST",headers:{Authorization:"Bearer ".concat(i)},json:n}).catch(function(e){throw console.error(e),(0,P.BQ)("[AI - TEXT PREDICTION] ".concat(e.name),e),e}));case 1:case"end":return e.stop()}},e)})),n(48108),n(97470),b.ZP.div.withConfig({displayName:"AIChatbot__ActionsRow",componentId:"sc-1haq175-0"})(["align-items:center;display:flex;justify-content:center;width:100%;"]),b.ZP.div.withConfig({displayName:"AIChatbot__Wrapper",componentId:"sc-1haq175-1"})(["align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;pointer-events:auto;position:relative;svg{pointer-events:none;position:absolute;@media (max-width:1023px){max-width:130px;max-height:130px;}}@media (max-width:1023px){margin-bottom:0;position:absolute;}"])),es=b.ZP.div.withConfig({displayName:"AIChatbot__Fallback",componentId:"sc-1haq175-2"})(["align-items:center;animation:"," 0.2s ease-out;color:",";display:flex;flex-direction:column;font-size:16px;font-weight:400;justify-content:center;line-height:120%;text-align:center;width:40vw;button{margin-top:32px;max-width:200px;}"],y.Uo,function(e){return e.theme.foreground}),el=n(43616),ed=n(48275),ec=n(87789),eu=function(e){var t;return!!(""===(t=new URLSearchParams(window.location.search).get(e))||"1"===t||t&&"true"===t.toLowerCase())};function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var em=function(e){var t,n=e.t,i=e.questionOrMessage,r=e.mediaPlayerProps,a=e.branding,d=e.isDataCollectionDisabled,c=e.isLargeViewport,u=e.globalTimeLimit,p=e.shouldAutoSelectKind,f=void 0!==p&&p,m=e.hideBranding,h=e.hideUpload,g=e.hideScreenshare,b=e.answerRevealDelayTime,v=e.textRevealDelayTime,x=e.textFadeDelayTime,j=e.percentComplete,O=e.videoFirst,C=e.audioFirst,I=e.darkText,T=e.justVideo,S=e.forceRecTime,k=e.buttonRadius,A=e.isFullscreen,R=e.contactId,L=e.affiliateID,D=e.removeFileLimit,N=e.contactInfo,F=e.contactToken,V=e.children,q=e.liveRecording,M=e.stripeConnectedAccount,B=e.onSubmit,G=e.hideCaptionsPrePlayback,z=e.hidePlay,X=e.onUnmute,K=void 0===X?function(){return null}:X,Y=e.transcriptionLocale,J=e.theme,$=e.teamAvailability,ee=e.form,et=e.isLivePreview,en=(0,l.useState)(null),er=en[0],eo=en[1],ea=(0,l.useState)(!1),es=ea[0],ep=ea[1],em=(0,l.useState)(!1),eh=em[0],eg=em[1],eb=(0,l.useState)(!1),ev=eb[0],ey=eb[1],ex=(0,l.useState)(!1),ew=ex[0],ej=ex[1],e_=(0,l.useState)(null),eO=e_[0],eP=e_[1],eC=(0,l.useState)(!!b),eE=eC[0],eI=eC[1],eT=(0,l.useState)(null),eS=eT[0],ek=eT[1],eA=(0,l.useState)(!1),eR=eA[0],eL=eA[1],eD=(0,l.useState)(!1),eN=eD[0],eF=eD[1],eV=(0,l.useState)(!1),eq=eV[0],eU=eV[1],eM=(0,l.useState)(null),eB=eM[0],eZ=eM[1],eG=(0,U.ib)(i),eW=function(e){},eH=function(e){eo(null),ep(!1),eg(!1),ey(!1),eI(!!e),eF(!1),eL(!1)},eQ=i.allowed_answer_media_types,ez=void 0===eQ?[H.VIDEO,H.AUDIO,H.TEXT]:eQ,eX=i.poll_options;i.metadata,(0,l.useEffect)(function(){var e;(e=(0,o.Z)(s().mark(function e(){var t,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&f&&1===ez.length)){e.next=13;break}if(ez[0]!==H.VIDEO){e.next=8;break}return e.next=4,(0,E.$pD)();case 4:e.sent&&eo(H.VIDEO),e.next=13;break;case 8:if(ez[0]!==H.AUDIO){e.next=13;break}return e.next=11,(0,E.qjW)();case 11:e.sent&&eo(H.AUDIO);case 13:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[c,f,ez]),(0,Q.v)({answerRevealDelayTime:b,poll_options:eX},function(e){b!==e.answerRevealDelayTime&&eH(b)});var eK,eY,eJ,e$,e0,e1,e2,e6,e3,e4,e8,e5,e7,e9,te,tt,tn,ti,tr,to,ta,ts,tl,td,tc,tu,tp,tf,tm,th,tg,tb,tv,ty,tx,tw,tj,t_=l.createRef(),tO=(0,l.useMemo)(function(){return{25:!1,50:!1,75:!1}},[]),tP=(0,l.useMemo)(function(){var e,t=eX||[];return(null===(e=i.metadata)||void 0===e?void 0:e.randomize_poll_options)?(0,W.shuffle)(t):t},[eX,null===(t=i.metadata)||void 0===t?void 0:t.randomize_poll_options]),tC=function(){if(er===H.LIVE_CALL)return er;var e=(0,U.Gu)(i);return 1===ez.length&&[H.TEXT,H.NUMBER].includes(ez[0])&&e!==H.CALENDAR?ez[0]:er&&ez.includes(er)?er:null},tE=function(){var e=tC(),t=!c&&(eh||r.text||(0,E.x3E)(null==r?void 0:r.mediaUrl)||ev);return{isQuestionSectionVisible:!!c||!V&&(!es||!e),isAnswerSectionVisible:!!c||!!V||!(!es||!e),areMobileActionsVisible:t}},tI=function(){null!=t_&&t_.current&&null!=t_&&t_.current.getWrappedInstance&&t_.current.getWrappedInstance().pause(!0)},tT=function(e){c||tI(),ep(!0),eo(e)},tS=function(e){return eZ(e)},tk=function(){return tI()},tA=function(){ep(!0),eo(null)},tR=function(e){return ej(e)},tL=function(e){return eP(e.target.value)},tD=function(){K(),eg(!0)},tN=function(){ey(!0)},tF=function(e,t){e>=t&&!tO[t]&&eh&&(tO[t]=!0,d||(0,P.Az)({event:"watch_video_".concat(t),contactId:R,contactToken:F,form_id:i.form_id,step_id:i.question_id,step_type:H.QUESTION}))},tV=function(e,t){if(!t||!e)return null;tF(e/t*100,75)},tq=function(){eI(!1)},tU=function(e,t){var n=i.media_url,r=(0,E.JcE)(n);if(R&&t&&tV(e,t),!b)return null;(!r||(eh||ev)&&eE)&&(e>b?eI(!1):ek(Math.round(b-e)))},tM=function(e){var t=((0,Z.Z)(r),r),n=t.textRevealDelayTime,i=t.textFadeDelayTime;if(!ev){if(n>0){eL(!1),eF(!1);return}eL(!1),eF(!0);return}if((!n||e>n)&&(!i||e<i+1)){eL(!1),eF(!0);return}eN&&(eL(!0),eF(!1))},tB=function(e){return eU(e)},tZ=function(){var e;return(0,ei.jsx)(_.CGj,{allowMultipleSelection:i.allow_multiple_selection,buttonRadius:k,disabled:eE,isPollTipActive:null===(e=i.metadata)||void 0===e?void 0:e.poll_tip,onSubmit:B,pollOptions:tP,reducedBottomPadding:eq})},tG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isOverlay,n=i.metadata,r=(n=void 0===n?{}:n).left_label,o=n.right_label,a=n.disable_nps_labels;return(0,ei.jsx)(_.lwy,{disableLabels:a,disabled:eE,isBlack:I,isFullscreen:A,isOverlay:t,npsLeftLabel:r,npsRightLabel:o,onSubmit:B})},tW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isLargeViewport,n=((0,Z.Z)(i),i).metadata.file_upload_cta_label;return(0,ei.jsx)(_.p0f,{contactToken:F,fileUploadCtaLabel:n,isDataCollectionDisabled:d,isLargeViewport:t,onSubmit:B,questionId:i.question_id,removeFileLimit:D})},tH=function(){var e=i.metadata,t=(e=void 0===e?{}:e).button_label;return(0,ei.jsx)(y.LE,{buttonRadius:k,disabled:eE,isLong:!0,label:t,onClick:function(){return B({type:H.BUTTON})}})},tQ=function(){return ez.length?null!==tC()?null:1===ez.length?(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsxs)(ed.GH,{children:[ez[0]===H.VIDEO&&(0,ei.jsx)(y.LE,{buttonRadius:k,"data-qa":"video-button",disabled:eE,icon:(0,ei.jsx)(y.rV,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.long-video-type"}),onClick:function(){return tT(H.VIDEO)}}),ez[0]===H.AUDIO&&(0,ei.jsx)(y.LE,{buttonRadius:k,"data-qa":"audio-button",disabled:eE,icon:(0,ei.jsx)(y.f4,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.long-audio-type"}),onClick:function(){return tT(H.AUDIO)}})]}),(0,ei.jsx)(_.L9_,{inline:!0,isBlack:I,children:(0,ei.jsx)(w.Eb,{assetId:"form-page.video-audio.support-prompt",includesHTML:!0})})]}):(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)(_.__J,{isBlack:I,isFullscreen:A,children:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.answer-type-picker"})}),(0,ei.jsxs)(ed.GH,{children:[-1!==ez.indexOf(H.VIDEO)&&(0,ei.jsx)(y.LE,{"aria-label":n("form-page.actions.video-type"),buttonRadius:k,"data-qa":"video-button",disabled:eE,icon:(0,ei.jsx)(y.rV,{}),label:n("form-page.actions.video-type"),onClick:function(){return tT(H.VIDEO)},scaleUp:O}),-1!==ez.indexOf(H.AUDIO)&&(0,ei.jsx)(y.LE,{"aria-label":n("form-page.actions.audio-type"),buttonRadius:k,"data-qa":"audio-button",disabled:eE,icon:(0,ei.jsx)(y.f4,{}),label:n("form-page.actions.audio-type"),onClick:function(){return tT(H.AUDIO)},scaleUp:C}),-1!==ez.indexOf(H.TEXT)&&(0,ei.jsx)(y.LE,{"aria-label":n("form-page.actions.text-type"),buttonRadius:k,"data-qa":"text-button",disabled:eE,icon:(0,ei.jsx)(y.VL,{}),label:n("form-page.actions.text-type"),onClick:function(){return tT(H.TEXT)}})]}),(0,ei.jsx)(_.L9_,{inline:!0,isBlack:I,isFullscreen:A,children:(0,ei.jsx)(w.Eb,{assetId:"form-page.video-audio.support-prompt",includesHTML:!0})})]}):null},tz=tE(),tX=tz.isQuestionSectionVisible,tK=tz.isAnswerSectionVisible,tY=tz.areMobileActionsVisible;return(0,ei.jsxs)(ed.fC,{children:[(0,ei.jsx)(_.igf,{percentComplete:j}),(0,ei.jsxs)(_.gYi,{children:[(0,ei.jsxs)(_.J5S,{className:"form-video-container",isHidden:!tX,children:[tY&&(0,ei.jsx)(_.kCn,ef({},eB)),(eK=tY&&function(){var e=tC();if(T)return null;var t=i.allowed_answer_media_types,r=void 0===t?[H.VIDEO,H.AUDIO,H.TEXT]:t,o=i.metadata,s=(o=void 0===o?{}:o).voice_categories,l=o.voice_custom_fallback,u=o.voice_keyword_matching,p=i.poll_options,f=i.question_id;if(eE)return null;var m=(0,U.Gu)(i);if(m===H.LIVE_CALL)return(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",children:(0,ei.jsx)(ec.LiveCallWidget,{buttonRadius:k,isAnswerDisabled:eE,isFullscreen:A,isLargeViewport:c,onSubmit:B,onSwitchToKind:tT,questionOrMessage:i,shouldDisplayCTA:!0,t:n,teamAvailability:$})});if(m===H.VOICE)return(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isFullscreen:A,voiceMobile:!0,children:(0,ei.jsx)(_.tN0,{branding:a,categories:void 0===s?[""]:s,contactToken:F,customFallback:void 0!==l&&l,isDataCollectionDisabled:d,keywordMatching:void 0!==u&&u,onError:tS,onPauseVideo:tI,onSubmit:B,questionId:f,transcriptionLocale:Y})});if(p){var h=1===p.length;return(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:h,isWithoutPadding:!h,children:tZ()})}return(0,U.Ru)(i)?(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:tH()}):m!==H.CALENDAR||e?m===H.PAYMENT?(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:(0,ei.jsx)(y.LE,{buttonRadius:k,disabled:eE,icon:(0,ei.jsx)(ed.mC,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.payment-form.buy-button"}),onClick:function(){return tT(H.TEXT)}})}):m===H.NPS?(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:tG({isOverlay:!0})}):m===H.OPEN&&1===r.length&&e===H.TEXT?(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:(0,ei.jsx)(_.drR,{allowedAnswerMediaTypes:r,isOverlay:!0,onCancel:tA,onSubmit:B})}):m===H.FILE_UPLOAD?(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",inheritHeight:!0,isReducedPadding:!0,children:(0,ei.jsx)("div",{children:tW({isLargeViewport:!1})})}):(r.length,null!==e?null:(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:tQ()})):(0,ei.jsx)(ed.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:(0,ei.jsx)(y.LE,{buttonRadius:k,disabled:eE,icon:(0,ei.jsx)(y.M0,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.calendar-type"}),onClick:function(){return tT(H.TEXT)}})})}(),eJ=i.media_url,e$=i.media_type,e0=i.media_id,e1=i.thumbnail,e2=i.poll_options,e3=(e6=void 0===(e6=i.metadata)?{}:e6).darken_text_background,e4=e6.text,e8=e6.fit_video,e5=e6.media_vertical_alignment,e7=e6.media_horizontal_alignment,e9=tE().areMobileActionsVisible,te=(0,U.d3)(e7,e5),tt=e9&&e2&&e2.length>3,tn=eu("pauseautoplay"),ti=null==ee?void 0:null===(eY=ee.metadata)||void 0===eY?void 0:eY.pause_autoplay,tr=0===r.questionIndex&&(0,E.La9)()&&(0,E.hmE)(),(0,ei.jsx)(_.Syo,ef(ef({affiliateID:L,autoplayDelay:el.l/2,branding:a,darkenTextBackground:e3,fitVideo:e8,hideBranding:m,isLargeViewport:c,isRenderer:!0,mediaType:e$,mediaUrl:eJ,onVideoMount:eW,shouldOverlaySubtitles:tt,text:e4,theme:J,thumbnail:e1},r),{},{customVideoPosition:te,hideCaptionsPrePlayback:G,hidePlay:z,mediaId:e0,onHasPlayed:tN,onTimeUpdate:tU,onTimeUpdateTextFadeReveal:tM,onToggleSubtitles:tB,onUnmute:tD,onVideoEnded:tq,pauseAutoPlay:tn||ti||tr,ref:t_,textFade:eR,textFadeDelayTime:x,textReveal:eN,textRevealDelayTime:v,title:eh?null:r.title,children:eK})))]}),(0,ei.jsxs)(_.J5S,{className:"form-answer-container",isHidden:!tK,children:[(0,ei.jsx)(_.kCn,ef({},eB)),V||(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)(ed.mh,{disabled:eE,children:(to=tC(),ta=i.question_id,ts=i.metadata,tl=(ts=void 0===ts?{}:ts).custom_type,td=ts.calendly_url,tc=ts.acuity_scheduling_url,tu=ts.hubspot_meetings_url,tp=ts.schedule_once_url,tf=ts.currency,tm=ts.amount,th=ts.voice_categories,tg=ts.voice_custom_fallback,tb=ts.voice_keyword_matching,tv=i.poll_options,ty=i.allowed_answer_media_types,tx=void 0===ty?[H.VIDEO,H.AUDIO,H.TEXT]:ty,tw=i.media_time_limit,tj=Number.isInteger(tw||u)?1e3*(tw||u):void 0,eG?([H.VOICE,H.TEXT].includes(to),(0,ei.jsx)(_._rn,{children:(0,ei.jsx)(_.tN0,{activated:"text"===to,branding:a,categories:void 0===th?[""]:th,contactToken:F,customFallback:void 0!==tg&&tg,isDataCollectionDisabled:d,keywordMatching:void 0!==tb&&tb,onError:tS,onPauseVideo:tI,onSubmit:B,questionId:ta,transcriptionLocale:Y})})):(0,U.DT)(tl)?(0,ei.jsx)(_.jq8,{acuitySchedulingUrl:tc,disabled:eE,onSubmit:B},tc):(0,U.hU)(tl)?(0,ei.jsx)(_.ArZ,{calendlyUrl:td,contactInfo:N,disabled:eE,onSubmit:B},td):(0,U.$z)(tl)?(0,ei.jsx)(_.WGL,{contactInfo:N,disabled:eE,hubspotMeetingsUrl:tu,onSubmit:B},tu):(0,U.vg)(tl)?(0,ei.jsx)(_.a1s,{contactInfo:N,disabled:eE,onSubmit:B,scheduleOnceUrl:tp},tp):(0,U.qt)(tl)?tG():(0,U.Yd)(i)?(0,ei.jsx)(_._rn,{children:(0,ei.jsx)(ec.LiveCallWidget,{buttonRadius:k,isAnswerDisabled:eE,isFullscreen:A,isLargeViewport:c,isLivePreview:et,onSubmit:B,onSwitchToKind:tT,questionOrMessage:i,shouldDisplayCTA:!to,t:n,teamAvailability:$})}):(0,U.V7)(i)?tW({isLargeViewport:c}):(0,U.me)(i)?(0,ei.jsx)(_.KBU,{amount:tm,contactInfo:N,currency:tf,isDataCollectionDisabled:d,isLargeViewport:c,onSubmit:B,questionId:ta,stripeConnectedAccount:M}):tv?(0,ei.jsx)(_._rn,{children:tZ()}):(0,U.Ru)(i)?(0,ei.jsx)(_._rn,{children:tH()}):to===H.TEXT||to===H.NUMBER?(0,ei.jsx)(_.drR,{allowedAnswerMediaTypes:tx,disabled:eE,onCancel:tx.length>1?tA:null,onSubmit:B}):to===H.AUDIO?(0,ei.jsx)(_.hn8,{allowedAnswerMediaTypes:tx,branding:a,disableWebRTCTearDown:!0,disabled:eE,enabledWebRTC:q,forceRecTime:S,hideScreenshare:g,hideUpload:h,isLargeViewport:c,isRespondent:!0,isTelePromptVisible:ew,onCancel:tA,onStartRecording:tk,onSubmit:B,onTelePromptChange:tL,onTelePromptToggle:tR,t:n,telePromptValue:eO,timeLimit:tj}):to===H.VIDEO?(0,ei.jsx)(_.SBV,{allowedAnswerMediaTypes:tx,branding:a,disableWebRTCTearDown:!0,disabled:eE,enabledWebRTC:q&&(0,E.AQB)(),forceRecTime:S,hideScreenshare:g,hideUpload:h,isRespondent:!0,isTelePromptVisible:ew,onCancel:tA,onOpenVideoInput:tk,onStartRecording:tk,onSubmit:B,onTelePromptChange:tL,onTelePromptToggle:tR,telePromptValue:eO,timeLimit:tj}):(0,ei.jsx)(_.T09,{isCentered:!0,isReducedPadding:!0,isUnbranded:m,children:tQ()}))}),eE&&Number.isInteger(eS)&&(0,ei.jsxs)(ed.Q_,{children:[n("form-page.actions.time-to-interact",{seconds:eS}),"..."]})]})]})]})]})},eh=(0,_.I0S)((0,w.Nm)(em)),eg=n(25393);function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ey=(i={},(0,r.Z)(i,F.xq,"form-page.errors.not-found"),(0,r.Z)(i,F.be,"form-page.errors.internal"),i),ex=function(e){(0,A.Z)(o,e);var t,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,L.Z)(o);if(n){var i=(0,L.Z)(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return(0,R.Z)(this,e)});function o(){var e;(0,T.Z)(this,o);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=i.call.apply(i,[this].concat(n)),(0,r.Z)((0,k.Z)(e),"state",{}),(0,r.Z)((0,k.Z)(e),"getShouldUseBarebones",function(){var t=e.props,n=t.userAgent,i=t.avoidBarebones,r=t.embedType,o=t.form;return!!o&&!i&&r!==V.Z2&&(r===V.D6||!!(0,q.X2)(o)&&!!((0,V.cO)()||(0,q.VF)(o)&&(0,E.tXv)(n)||(0,q.X2)(o)&&(0,E.T_e)(n)))}),(0,r.Z)((0,k.Z)(e),"handleTrackEvent",function(t,n){var i=e.props,r=i.question,o=void 0===r?{}:r,a=i.isFormAuthor,s=i.form,l=void 0===s?{}:s,d=i.isPreview,c=i.contactId,u=o.question_id;a||d?console.log("[tracking:skipped] ".concat(t),n):(0,E.feQ)(t,l.author_id,ev(ev({},n),{},{user_type:P.Wg.RESPONDENT,form_share_id:l.share_id,form_id:l.form_id,contact_id:c,question_id:u,question_type:(0,U.Ee)(o)},(0,V.ch)()))}),(0,r.Z)((0,k.Z)(e),"handleSubmitAnswer",function(t){return(0,e.props.onSubmitQuestionAnswer)(t)}),(0,r.Z)((0,k.Z)(e),"renderContent",function(t){var n,i=e.props,r=i.screen,o=i.question,a=void 0===o?{}:o,s=i.questionOverlayText,l=i.percentComplete,d=i.questionIndex,c=i.hideBranding,u=i.branding,p=i.videoFirst,f=i.audioFirst,m=i.liveRecording,h=i.justVideo,g=i.forceRecTime,b=i.buttonRadius,v=i.globalTimeLimit,y=i.hideUpload,x=i.hideScreenshare,j=i.globalAnswerRevealDelayTime,O=i.showGoodbyeAd,P=i.contactInfo,C=void 0===P?{}:P,E=i.errorDetails,I=i.redirectUrl,T=i.loadErrorName,S=i.userAgent,k=i.isFormAuthor,A=i.embedType,R=i.formUrl,L=i.onPowerByAdClick,D=i.requiredContactFields,N=i.locale,F=i.defaultCountryCode,V=i.consentLabel,q=i.form,Z=i.stepAfterContactForm,G=i.onSubmitContactInfo,W=i.hideCaptionsPrePlayback,H=i.hidePlay,Q=i.removeFileLimit,z=i.globalMediaPlayerProps,X=i.isKiosk,K=i.affiliateID,Y=i.contactToken,J=i.isPreview,$=i.darkText,ee=i.overrides,et=i.contactId,en=i.teamAvailability,er=i.theme,eo=a.form_id,ea=a.question_id,es=a.metadata,el=(es=void 0===es?{}:es).answer_reveal_delay_time,ed=((null==q?void 0:q.metadata)||{}).transcription_locale,ec=C.name,eu=C.email,ep=C.phoneNumber,ef=ev(ev({},(0,U.Zj)(a,d,z,ee)),{},{text:s,onPowerByAdClick:L});if(r===M.G.ERROR){return(0,ei.jsx)(_.CsX,{"data-qa":T,children:(0,ei.jsx)(w.Eb,{assetId:(n=T,n&&ey[n]||"form-page.errors.internal")})})}if(r===M.G.EMPTY_FORM)return(0,ei.jsx)(_.CsX,{children:"This VideoAsk doesn't have any questions yet."});if(r===M.G.LOADING);else if(e.getShouldUseBarebones())return(0,ei.jsx)(_.i0H,{buttonRadius:b,embedType:A,formId:eo,formUrl:R,isFormAuthor:k,isRenderer:!0,mediaPlayerProps:ef,userAgent:S});else if(r===M.G.GOODBYE)return(0,ei.jsx)(eg.GoodbyeScreen,{contactId:et,form:q,isFormAuthor:k,showGoodbyeAd:O});else if(r===M.G.QUESTION||r===M.G.CONTACT_FORM){var em=e.props.isFullscreen;return(0,ei.jsx)(_.q3N,{isFullscreen:em,children:(0,ei.jsx)(eh,{affiliateID:K,answerRevealDelayTime:el||j,audioFirst:f,branding:u,buttonRadius:b,contactId:et,contactInfo:C,contactToken:Y,darkText:$,forceRecTime:g,form:q,formMetadata:q.metadata,globalTimeLimit:v,hideBranding:c,hideCaptionsPrePlayback:W,hidePlay:H,hideScreenshare:x,hideUpload:y,isDataCollectionDisabled:J,isKiosk:X,isLargeViewport:t,isPrivateForm:q.is_password_protected,justVideo:h,liveRecording:m,locale:N,mediaPlayerProps:ef,onSubmit:e.handleSubmitAnswer,onTrackEvent:e.handleTrackEvent,percentComplete:l,questionOrMessage:a,removeFileLimit:Q,shouldAutoSelectKind:d>0,stripeConnectedAccount:q.stripe_connected_account,teamAvailability:en,theme:er,transcriptionLocale:ed||N||"en-US",videoFirst:p,children:r===M.G.CONTACT_FORM?(0,ei.jsx)(B.default,{buttonRadius:b,consentLabel:V,defaultCountryCode:F,email:eu,errorDetails:E,isLargeViewport:t,locale:N,name:ec,onSubmit:G,phoneNumber:ep,readOnlyFields:(0,U.Qo)(q),requiredContactFields:D,stepAfterContactForm:Z}):null},ea)})}else if(r===M.G.UPLOADING)return(0,ei.jsx)(_.a_T,{hideBranding:c||!!u,percentComplete:l,title:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.title"}),children:I?(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)("p",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-uploading"})}),(0,ei.jsx)("p",{children:(0,ei.jsx)("strong",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.leaving-warning"})})}),(0,ei.jsxs)("p",{children:[(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-redirect-part-0"}),"\xa0",(0,ei.jsx)("a",{href:I,rel:"noopener noreferrer",target:"_blank",children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-redirect-part-1-link"})}),"\xa0",(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-redirect-part-2"})]})]}):(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)("p",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-uploading"})}),(0,ei.jsx)("p",{children:(0,ei.jsx)("strong",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.leaving-warning"})})})]})});else if(r===M.G.REDIRECTING)return(0,ei.jsx)(_.a_T,{hideBranding:c||!!u,percentComplete:l,title:(0,ei.jsx)(w.Eb,{assetId:"form-page.redirecting-screen.title"})});return(0,ei.jsx)(_.a_T,{hideBranding:c||!!u})}),e}return(0,S.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.showGoodbyeAd,i=e.theme,r=e.isFullscreen;return(0,ei.jsx)(y.xR,{fontFamily:i.fontFamily,isFullHeight:!(t===M.G.GOODBYE&&n),role:"main",children:(0,ei.jsx)(_.R3Q,{onTrackEvent:this.handleTrackEvent,children:r?this.renderContent(!1):(0,ei.jsx)(N(),{minWidth:1024,children:this.renderContent})})})}}]),o}(l.Component),ew=n(87446),ej=n(98998),e_=n(46682),eO=n(97646),eP=n(57637),eC=n(60458),eE=n(37778);function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var eS=f()(function(){return n.e(826).then(n.bind(n,9826))},{ssr:!1,loadableGenerated:{webpack:function(){return[9826]}}}),ek="cubic-bezier(0.86, 0, 0.07, 1)",eA=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__TransitionWrapper",componentId:"sc-1mgsapa-0"})(["height:100%;> div{height:100%;}.question-transition-leave{transform:translateY(0);}.question-transition-leave.question-transition-leave-active{transform:translateY(-100%);transition:transform ","ms ",";}.question-transition-enter{transform:translateY(100%);}.question-transition-enter.question-transition-enter-active{transform:translateY(0);transition:transform ","ms ",";}.question-transition-height{transition:height 0.5s ",";}"],750,ek,750,ek,ek),eR=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__ExpiredForm",componentId:"sc-1mgsapa-1"})(["align-items:center;backdrop-filter:blur(10px);background:rgba(0,0,0,0.5);bottom:0;color:white;display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:absolute;right:0;top:0;width:100%;z-index:",";span{margin-bottom:24px;}a{color:white;}div{font-size:20px;line-height:130%;margin:0 auto;max-width:70%;text-align:center;}"],v.Ue.popovers),eL=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__SnowWrapper",componentId:"sc-1mgsapa-2"})(["height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:",";"],v.Ue.level4),eD=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__PreviewModeBanner",componentId:"sc-1mgsapa-3"})(["background-color:",";color:white;font-family:",";font-size:12px;left:0;padding:8px;position:fixed;right:0;text-align:center;top:0;z-index:",";",""],u()(v.O9.purple).alpha(.6).toString(),v.Rq.apercu,v.Ue.notifications,function(e){return!e.isGoodbyeScreen&&(0,b.iv)(["@media (min-width:1025px){left:50%;}"])}),eN=function(e){var t,n,i,o=e.theme,a=void 0===o?v.uH:o,s=e.onLoad,d=e.form,c=e.isPreview,u=e.skipRedirect,p=e.formUrl,f=e.isFormAuthor,g=e.contactId,x=e.onFirstInteraction,_=e.showGoodbyeAd,T=e.question,S=e.locale,k=e.hidePreviewBanner,A=e.twitterPlayerUrl,R=e.shouldLinkCanonical,L=e.canonicalUrl,D=e.isKiosk,N=e.letItSnow,F=e.hasPaymentQuestion,V=e.screen,q=e.jsonLd,U=e.loadErrorName,B=e.hideBranding,Z=e.darkText,G=e.isFullscreen,W=e.branding,H=e.justVideo,Q=e.stepAfterContactForm,z=e.forceRecTime,X=e.hideUpload,K=e.contactToken,Y=e.contactInfo,J=e.hideScreenshare,$=e.globalAnswerRevealDelayTime,ee=e.userAgent,et=e.currentUserId,en=e.hideCaptionsPrePlayback,er=e.requiredContactFields,eo=e.hidePlay,ea=e.globalMediaPlayerProps,es=e.affiliateID,el=e.onSubmitQuestionAnswer,ed=e.onSubmitContactInfo,ec=e.removeFileLimit,eu=e.teamAvailability,ep=e.questionOverlayText,ef=e.percentComplete,em=e.questionIndex,eh=e.globalTimeLimit,eg=e.videoFirst,eb=e.audioFirst,ev=e.liveRecording,ey=e.buttonRadius,e_=e.errorDetails,eO=e.redirectUrl,eP=e.defaultCountryCode,ek=e.consentLabel,eN=e.overrides,eF=(0,l.useState)(!1),eV=eF[0],eq=eF[1];(0,l.useEffect)(function(){if(d)try{new PerformanceObserver(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return eT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,t)}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.getEntries());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.name,o=Math.round(i.startTime+i.duration);(0,E.feQ)(P.zR.TMP_USE_FEATURE,d.author_id,{feature:"renderer_performance",label:r,item:"NA",test_id:"current_renderer",value:o.toString(),form_share_id:d.share_id,form_id:d.form_id})}}catch(a){n.e(a)}finally{n.f()}}).observe({entryTypes:["paint"]})}catch(e){console.error(e)}if((0,eE.b2)(u,window.navigator.userAgent)){var t=(0,eE.PA)(p,window.location.host,window.location.hash);window.location=t}return window.addEventListener("click",x,{once:!0}),s(null==d?void 0:d.share_id,d,c,f),function(){window.removeEventListener("click",x)}},[]);var eU,eM,eB,eZ=function(e,t){(0,E.feQ)(e,d.author_id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({renderer_type:"form",form_id:d.form_id,form_share_id:d.share_id,user_type:P.Wg.RESPONDENT,contact_id:g},t))},eG=function(e,t){t||(e&&e.preventDefault(),eq(!0)),eZ(P.Iy.ITEM_CLICKED,{item:"powered_by",item_type:"button"})},eW=function(){return eq(!1)},eH=d&&(d.hide_branding||!!d.branding),eQ=null!=d&&null!==(t=d.branding)&&void 0!==t&&t.custom_domain&&null!=d&&null!==(n=d.branding)&&void 0!==n&&n.favicon_url?null==d?void 0:null===(i=d.branding)||void 0===i?void 0:i.favicon_url:"",ez=C.e.isExpired(d),eX=!c&&C.e.isUnpublished(d);return(0,ei.jsx)(b.f6,{theme:a,children:(0,ei.jsx)(w.NI,{customLanguage:null==d?void 0:d.custom_language,locale:S,children:(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsxs)(I.N,{canonicalUrl:L,customFavicon:eQ,hideBranding:eH,imageUrl:(0,eC.getFormSocialImageWithPlayButton)(d),isKiosk:D,jsonLd:q,shouldLinkCanonical:R,socialDescription:eH?void 0:"Powered by VideoAsk - Build instant trust, put a face on your brand, and have more personal interactions at scale.",title:d?d.title:void 0,twitterPlayerUrl:A,children:[R&&d&&(0,ei.jsx)("link",{href:"".concat((0,j.kG)(),"/oembed?url=").concat(escape(d.share_url),"&format=json"),rel:"alternate",title:"".concat(d.title," oEmbed Profile"),type:"application/json+oembed"}),F&&(0,ei.jsx)("script",{async:!0,id:"stripe-js",src:"https://js.stripe.com/v3/"})]}),d&&(0,ei.jsx)(ej.Z,{form:d}),c&&!k&&(0,ei.jsx)(eD,{isGoodbyeScreen:V===M.G.GOODBYE,children:"You're in preview mode, answers won't be submitted"}),N&&(0,ei.jsx)(eL,{children:(0,ei.jsx)(eS,{})}),ez&&!eX&&(0,ei.jsxs)(eR,{children:[(0,ei.jsx)(y.dy,{fontSize:"250%",label:"closed emoji",symbol:"\uD83D\uDE45"}),(0,ei.jsx)(h.ZP,{properties:{target:"_blank",rel:"noopener noreferrer"},children:(0,ei.jsx)("div",{children:d.metadata.schedule_close_date_message||(0,ei.jsx)(w.Eb,{assetId:"form-page.form-expired"})})})]}),eX?(0,ei.jsx)(O.x,{}):(eU=null==T?void 0:T.question_id,eM=C.e.isExpired(d),eB=(0,ei.jsx)(ex,{affiliateID:es,audioFirst:eb,branding:W,buttonRadius:ey,consentLabel:ek,contactId:g,contactInfo:Y,contactToken:K,currentUserId:et,darkText:Z,defaultCountryCode:eP,errorDetails:e_,forceRecTime:z,form:d,formUrl:p,globalAnswerRevealDelayTime:$,globalMediaPlayerProps:ea,globalTimeLimit:eh,hideBranding:B,hideCaptionsPrePlayback:en,hidePlay:eo,hideScreenshare:J,hideUpload:X,isFullscreen:G,isPreview:c,justVideo:H,liveRecording:ev,loadErrorName:U,locale:S,onPowerByAdClick:eG,onSubmitContactInfo:ed,onSubmitQuestionAnswer:el,overrides:eN,percentComplete:ef,question:T,questionIndex:em,questionOverlayText:ep,redirectUrl:eO,removeFileLimit:ec,requiredContactFields:er,screen:V,showGoodbyeAd:_,stepAfterContactForm:Q,teamAvailability:eu,theme:a,userAgent:ee,videoFirst:eg},eU),eU?(0,ei.jsx)(eA,{isFormExpired:eM,children:(0,ei.jsx)(m.Z,{transitionEnterTimeout:750,transitionLeaveTimeout:750,transitionName:"question-transition",children:eB})}):eB),eV?(0,ei.jsx)(ew.PoweredByAd,{contactId:g,formAuthorId:d.author_id,formId:d.form_id,formShareId:d.share_id,isFormAuthor:f,isPreview:c,onClose:eW}):null]})})})},eF=function(e){return{title:(0,M.yb)(e),screen:(0,M.CL)(e),question:(0,M.G7)(e),questionOverlayText:(0,M.qD)(e),percentComplete:(0,M.kb)(e),questionsCount:(0,M.Ow)(e),questionIndex:(0,M.Pi)(e),errorDetails:(0,M.rS)(e),contactId:(0,M.xQ)(e),contactToken:(0,M.H4)(e),contactInfo:(0,M.lC)(e),redirectUrl:(0,M.B8)(e),requiredContactFields:(0,M.n)(e),defaultCountryCode:(0,M.rM)(e),consentLabel:(0,M.en)(e),stepAfterContactForm:(0,M.CL)(e)===M.G.CONTACT_FORM?(0,M.F0)(e):null}},eV=(0,g.$j)(eF,{onLoad:eP.ZP,onSubmitQuestionAnswer:e_.Z,onSubmitContactInfo:eO.Z,onFirstInteraction:_.dmn})(eN),eq=n(8511);function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eB=!0,eZ=function(e){var t=(0,l.useState)(""),n=t[0],i=t[1],r=(0,l.useState)(!1),a=r[0],c=r[1],u=(0,l.useState)(e.form),p=u[0],f=u[1],m=(0,l.useCallback)((0,o.Z)(s().mark(function t(){var i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.SG)(e.shareId,n);case 3:f(t.sent),c(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),401===t.t0.status&&n&&c(!0);case 11:case"end":return t.stop()}},t,null,[[0,8]])})),[n,e.shareId]);(0,l.useEffect)(function(){n&&m()},[n,m]);var h=e.isLockedForm,g=e.isHiddenBranding,b=e.branding,v=e.theme,y=e.shareId,x=e.organizationName;return p||!h?(0,ei.jsx)(eV,eM(eM({},e),{},{form:p})):(0,ei.jsx)(eq.PrivateSharedView,{branding:b,isHiddenBranding:g,isWrongPassword:a,onSubmit:i,organizationName:x,removeErrorWarning:function(){return c(!1)},shareId:y,theme:v})}},8511:function(e,t,n){"use strict";n.r(t),n.d(t,{Card:function(){return I},PrivateSharedView:function(){return L}});var i=n(97729),r=n.n(i),o=n(2784),a=n(35505),s=n(36993),l=n(88575),d=n(17681),c=n(71346),u=n.n(c),p=n(54701),f=n(91324),m=n(47369),h=n(95235),g=n(82269),b=n(52322),v=["className","noBorder","errorMessage"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=a.ZP.div.withConfig({displayName:"Input__Wrapper",componentId:"sc-18tu62v-0"})(["width:100%;margin-bottom:","px;:nth-child(1){margin-top:0;}"],function(e){return e.noBorder?0:16}),j=(0,a.iv)(["font-family:",";font-weight:300;border:none;border-radius:0;border-bottom:1px solid rgba(0,0,0,0.1);-webkit-appearance:none;line-height:22px;font-size:20px;background:transparent;padding:12px 0;color:black;outline:none;width:100%;::placeholder{color:rgba(0,0,0,0.25);}:focus{border-bottom:1px solid ",";}"],d.fonts.favorit,d.colors.brightPurple),_=a.ZP.input.withConfig({displayName:"Input__InputField",componentId:"sc-18tu62v-1"})(["",";border:",";&:focus{border:",";}"],j,function(e){return e.noBorder&&"none"},function(e){return e.noBorder&&"none"}),O=a.ZP.div.withConfig({displayName:"Input__ErrorMessage",componentId:"sc-18tu62v-2"})(["color:",";font-size:12px;"],d.colors.red),P=o.forwardRef(function(e,t){var n=e.className,i=e.noBorder,r=e.errorMessage,o=(0,g.Z)(e,v);return(0,b.jsxs)(w,{className:n,noBorder:i,children:[(0,b.jsx)(_,x(x({noBorder:i},o),{},{ref:t})),r&&(0,b.jsx)(O,{children:r})]})}),C=n(87446),E=n(56777),I=a.ZP.div.withConfig({displayName:"PrivateSharedView__Card",componentId:"sc-sy46ay-0"})(["align-items:",";background:",";border-radius:12px;box-shadow:",";display:flex;flex-direction:",";justify-content:space-between;margin:0 32px 32px 0;padding:48px;width:100%;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," @media (max-width:450px){padding:24px;overflow-wrap:break-word;}"],function(e){return e.isRow&&"center"},function(e){return e.isPurpleCard?d.colors.purpleTranslucid:d.colors.white},function(e){return e.isBoxShadow?"0 10px 30px 0 rgb(0 0 0 / 10%)":"none"},function(e){return e.isRow?"row":"column"},function(e){return e.hasError&&(0,a.iv)(["border:1px solid ",";"],d.colors.red)},function(e){return e.relative&&(0,a.iv)(["position:relative;"])},function(e){return e.fadeIn&&(0,a.iv)(["animation:"," 0.4s ease-in-out;"],p.Uo)},function(e){return e.disabled&&(0,a.iv)(["opacity:0.4;"])},function(e){return e.isOverlap&&(0,a.iv)(["margin-top:-8px;"])},function(e){return e.isButtonCard&&(0,a.iv)(["margin:6px 0 !important;padding:16px;"])},function(e){return e.isLessTight&&(0,a.iv)(["padding:32px;"])},function(e){return e.isConnect&&(0,a.iv)(["margin:0 0 16px 0;padding:8px 24px;"])},function(e){return e.isTight&&(0,a.iv)(["margin:0 16px 16px 0;padding:8px 16px;@media (max-width:450px){padding:8px 16px !important;}"])},function(e){return e.addMarginTop&&(0,a.iv)(["margin-top:16px;"])},function(e){return e.maxWidth&&(0,a.iv)(["@media (min-width:1024px){max-width:600px;}"])},function(e){return e.isReducedMarginBottom&&(0,a.iv)(["margin-bottom:16px;"])},function(e){return e.removePadding&&(0,a.iv)(["padding:0 !important;"])},function(e){return e.isWebhookItem&&(0,a.iv)(["cursor:pointer;padding:24px;transition:all 0.3s ease-in-out;:hover{background:",";color:",";}"],d.colors.buttonGrey,d.colors.black)},function(e){return e.isSelected&&(0,a.iv)(["background:#23241f;color:white;pointer-events:none;}"])},function(e){return e.center&&(0,a.iv)(["align-items:center;height:100%;justify-content:center;margin:0px;@media (max-height:600px){justify-content:flex-start;overflow:auto;padding:16px !important;}"])},function(e){return e.focusBorderColor&&(0,a.iv)([":focus-within{box-shadow:0 0 0 2px ",";}"],e.focusBorderColor)}),T=a.ZP.div.withConfig({displayName:"PrivateSharedView__PrivateFormWrapper",componentId:"sc-sy46ay-1"})(["align-items:center;display:flex;flex-direction:column;height:100%;margin:0;padding:0;position:relative;width:100%;"]),S=(0,a.ZP)(p.Mv).withConfig({displayName:"PrivateSharedView__EnterPasswordIcon",componentId:"sc-sy46ay-2"})(["cursor:pointer;transform:rotateY(180deg);width:25px;"]),k=a.ZP.div.withConfig({displayName:"PrivateSharedView__PasswordWrapper",componentId:"sc-sy46ay-3"})(["display:flex;flex-direction:column;height:85%;justify-content:center;min-width:28%;text-align:center;h2{color:",";margin-bottom:30px;}"],function(e){return e.textColor}),A=(0,a.ZP)(s.Z).withConfig({displayName:"PrivateSharedView__CustomMessageBox",componentId:"sc-sy46ay-4"})(["align-items:center;display:flex;flex-direction:row;font-family:",";font-weight:bold;height:40px;justify-content:flex-start;"],d.fonts.favorit),R=a.ZP.div.withConfig({displayName:"PrivateSharedView__BrandWrapper",componentId:"sc-sy46ay-5"})(["align-items:center;cursor:pointer;display:flex;flex-direction:row;justify-content:space-evenly;min-width:180px;"]),L=function(e){var t,n=e.onSubmit,i=e.isWrongPassword,a=e.removeErrorWarning,s=e.organizationName,c=e.theme,h=e.isHiddenBranding,g=void 0!==h&&h,v=e.branding,y=e.shareId,x=(0,o.useState)(""),w=x[0],j=x[1],_=(0,o.useState)(!1),O=_[0],L=_[1],D=(0,l.useTranslator)().t;(0,o.useEffect)(function(){(0,m.feQ)(f.Iy.POPUP_OPENED,"NA",{popup:"private_code",label:"paid",user_type:f.Wg.RESPONDENT,form_share_id:y})},[]);var N=function(e){"Enter"===e.key&&w&&F(),"Backspace"===e.code&&a()},F=function(){n(w)},V=function(e){j(e.target.value)},q=function(){(0,m.feQ)(f.Iy.ITEM_CLICKED,"NA",{item:"viral_private_code",item_type:"logo",label:"paid",location:"private_code_popup",user_type:f.Wg.RESPONDENT,form_share_id:y}),L(!0)},U=g?s:(null==v?void 0:v.name)||"Videoask",M=(t=c.background,["#ffffff","#fff"].includes(null==t?void 0:t.toLowerCase()));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r(),{children:(0,b.jsx)("title",{children:U})}),(0,b.jsx)(p.xR,{backgroundColor:c.background,children:O?(0,b.jsx)(C.PoweredByAd,{formShareId:y,onClose:function(){return L(!1)}}):(0,b.jsxs)(T,{children:[(0,b.jsxs)(k,{textColor:c.foreground,children:[(0,b.jsxs)("h2",{children:[D("form-page.password-input-label"),":"]}),(0,b.jsxs)(I,{"aria-label":"Password container",focusBorderColor:u()(c.background).luminosity()>.5?d.colors.brightPurple:d.colors.lightPurple,isBoxShadow:!M,isPurpleCard:M,isRow:!0,isTight:!0,children:[(0,b.jsx)(P,{noBorder:!0,onChange:V,onKeyDown:N,placeholder:"Password",required:!0,type:"password",value:w}),w&&(0,b.jsx)(S,{onClick:F})]}),i&&w&&(0,b.jsx)(A,{description:D("form-page.password-input-error"),kind:"warning"})]}),!g&&(v?(0,b.jsx)("a",{"aria-label":"".concat(null==v?void 0:v.name," link"),href:null==v?void 0:v.branding_url,target:"blank",children:(0,b.jsx)(E.Oc,{alt:null==v?void 0:v.name,src:null==v?void 0:v.logo_url,title:null==v?void 0:v.name})}):(0,b.jsx)(R,{"aria-label":"Videoask logo",onClick:q,children:(0,b.jsx)(E.Y0,{color:c.foreground})}))]})})]})}},87789:function(e,t,n){"use strict";n.r(t),n.d(t,{LiveCallWidget:function(){return f}});var i=n(17681),r=n(13794),o=n(95235),a=n(17635),s=n(28168),l=n(15772);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e,t){var n=(0,a.I0)(),o=(0,a.oR)().getState(),d=(0,s.xQ)(o),u=(0,s.H4)(o),p=e.question_id,f=(0,a.v9)(function(t){var n;return((null===(n=t.sharing_form)||void 0===n?void 0:n.answers)||{})[e.question_id]||null}),m=function(e){return{questionId:p,contactId:d,metadata:{live_call:{state:e}},mediaType:i.LIVE_CALL}},h=function(i,o){var a=m(i);return(t?(0,r.yam)(e)(p,a):o()).then(function(e){n((0,s.Kk)(p)),n((0,s.OS)(p,c(c({},e),{},{answer_type:e.type||e.media_type})))})};return{answer:f,submitAnswerInProgress:function(e){var t=m(e);return h(e,function(){return(0,l.yX)(c(c({},t),{},{contactToken:u}))})}}},p=n(52322),f=function(e){var t=e.t,n=e.questionOrMessage,o=e.shouldDisplayCTA,a=e.buttonRadius,s=e.teamAvailability,l=e.onSubmit,d=e.onSwitchToKind,c=e.isFullscreen,f=e.isLargeViewport,m=e.isAnswerDisabled,h=e.isLivePreview,g=(0,r.uL6)(),b=(0,r.Sw6)({question:n,isLivePreview:h}).shouldMockResponses,v=u(n,b),y=v.answer,x=v.submitAnswerInProgress,w=function(){d((n.allowed_answer_media_types||[i.LIVE_CALL])[0]||i.LIVE_CALL)},j=function(){return w()};return null!=s&&s.is_team_on_holidays||null!=s&&s.is_team_out_of_working_hours?(0,p.jsx)(r.k0Q,{isFullscreen:c,isLargeViewport:f,onSkip:l,teamAvailability:s}):o?(0,p.jsx)(r.qzz,{buttonRadius:a,defaultCTALabel:t("form-page.live-call.cta"),defaultRejectLabel:t("form-page.live-call.rejection"),disabled:m,isFullscreen:c,isRespondent:!0,onAccept:j,onReject:l,onSubmitAnswerInProgress:x,questionOrMessage:n}):(0,p.jsx)(r.kQZ,{answer:y,buttonRadius:a,disabled:m,isRespondent:!0,onSubmit:l,peerUser:g,questionOrMessage:n,shouldMockResponses:b})}},93269:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sharing/form",function(){return n(68452)}])}},function(e){e.O(0,[182,507,265,722,616,876,393,774,888,179],function(){return e(e.s=93269)}),_N_E=e.O()}]);